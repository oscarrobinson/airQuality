<!DOCTYPE html>
<html>
	<head>
		<title>London Air Quality - Data Visualisation</title>
		<link rel="stylesheet" href="assets/css/reset.css" type="text/css">
		<!-- <link rel="stylesheet" href="ls/css/animate.css">  -->
		<link rel="stylesheet" href="ls/css/liquid-slider.css">
		<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">
		<link rel="stylesheet" href="assets/css/style.css" type="text/css">

		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="assets/js/jquery.leanModal.min.js"></script>
		<script src="assets/js/trafficChart.js"></script>

		<meta name="apple-mobile-web-app-capable" content="yes">
		
	</head>
	<body>
		<div id="row">
			<div id="site1">
				<div class="locationSwitch">
					<div class="liquid-slider" id="siteSliderLeft">
						<div id="eriLoc">
							<h2>Bexley - Erith</h2>
							
							<div class="iconStrip">
								<a id="infoEri" name="testModal" href="#testModal"><img src="assets/glyphs/circle_info.png" height="32" ></a>
								<a href="#"><img src="assets/glyphs/gm2.png" height="25"  ></a>
								<a href="#"><img src="assets/glyphs/sv2.png" height="25" ></a>
							</div>
							
							<div id="trafficWrapper1l"></div>
							<script>
								loadTraffic(eriTraffic, 1, "l");
							</script>
						</div>
						<div id="briLoc">
							<h2>Lambeth - Brixton</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper2l"></div>
							<script>
								loadTraffic(briTraffic, 2, "l");			
							</script>
						</div>
						<div id="horLoc">
							<h2>Westminster - Horseferry</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper3l"></div>
							<script>
								loadTraffic(horTraffic, 3, "l");			
							</script>
						</div>
						<div id="ricLoc">
							<h2>Richmond - Ntl Physical Lab</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper4l"></div>
							<script>
								loadTraffic(ricTraffic, 4, "l");			
							</script>
						</div>
					</div>
				</div>
				<p id="p1"></p>
				<p id="p2"></p>
			</div>
			<div id="site2">
				<div class="locationSwitch">
					<div class="liquid-slider" id="siteSliderRight">
						<div id="eriLoc">
							<h2>Bexley - Erith</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper1r"></div>
							<script>
								loadTraffic(eriTraffic, 1, "r");
							</script>
						</div>
						<div id="briLoc">
							<h2>Lambeth - Brixton</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper2r"></div>
							<script>
								loadTraffic(briTraffic, 2, "r");			
							</script>
						</div>
						<div id="horLoc">
							<h2>Westminster - Horseferry</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper3r"></div>
							<script>
								loadTraffic(horTraffic, 3, "r");			
							</script>
						</div>
						<div id="ricLoc">
							<h2>Richmond - Ntl Physical Lab</h2>
							<p>Category: Industrial</p>
							<div id="trafficWrapper4r"></div>
							<script>
								loadTraffic(ricTraffic, 4, "r");			
							</script>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="controls">
		</div>
		<div id="testModal">
			<a class="modal_close" href="#"></a>
			<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d2485.318665050197!2d-0.11272739999999996!3d51.4706648!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48760461c3a262cd%3A0x645413708b174028!2sBrixton+Rd!5e0!3m2!1sen!2s!4v1404922032145" width="400" height="300" frameborder="0" style="border:0"></iframe>
		</div>
		<script>

			// JavaScript element sizing

			var windowHeight = window.innerHeight;
			var windowWidth =  window.innerWidth;
			var rowHeight = windowHeight - 92
			 + "px";

			var rowElement = document.getElementById("row");
			rowElement.style.height = rowHeight;
			console.log(rowElement);

			document.getElementById("p1").innerHTML = "row height" +  rowHeight + "row width" + windowWidth;

			var colWidth = $("#site1").width();
			console.log(colWidth);

			var panelWidth = $("#firstSlide").width();
			console.log(panelWidth);

			document.getElementById("p2").innerHTML = "col width" + colWidth + panelWidth;


		</script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
		<script src="http:////cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.4/jquery.touchSwipe.js"></script>
		<script src="ls/js/jquery.liquid-slider.min.js"></script>
		<script>
		$(function(){
		     $('#siteSliderLeft').liquidSlider({
		     	hoverArrows: false,
		     	slideEaseDuration: 300
		     });
		});

		$(function(){
		     $('#siteSliderRight').liquidSlider({
		     	hoverArrows: false,
		     	slideEaseDuration: 300
		     });
		});

		$("#infoEri").leanModal({ top : 200, overlay : 0.4, closeButton: ".modal_close" });

		</script>
	</body>
</html>